document.addEventListener("DOMContentLoaded", function () {
    const fileInput = document.getElementById("file");
    const img = document.getElementById("img");

    fileInput.addEventListener("change", function (e) {
        if (e.target.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                img.src = e.target.result; // Cambia la fuente de la imagen a la seleccionada
            }
            reader.readAsDataURL(e.target.files[0]); // Lee el archivo seleccionado
        } else {
            img.src = "http://localhost/files/${fotopelicula}"; // Cambia a la imagen por defecto
        }
    });

    // Simula un clic en el input de archivo cuando se presiona el botón
    document.getElementById('customButton').addEventListener('click', function () {
        fileInput.click();
    });

    // Disparar el evento change para mostrar la imagen al cargar la página
    if (fileInput.files.length === 0) {
        fileInput.dispatchEvent(new Event("change"));
    }
});
